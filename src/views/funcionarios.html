<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Funcionários</title>
</head>
<!-- Bootstrap -->
<link rel="stylesheet" href="../public/css/bootstrap.min.css">
<!-- CSS Personalizado -->
<link rel="stylesheet" href="../public/css/style.css">
<!-- impedir a execução de scripts externos ou não autorizados -->
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'">

<body>
    <div class="container">
        <form id="frmEmployee" class="mt-2 row g-3">
            <!-- Buscar Funcionário -->
            <div class="col-md-6">
                <input type="text" class="form-control" id="searchEmployee" maxlength="30" spellcheck="false" placeholder="Buscar Funcionário">
            </div>
            <div class="col-md-4">
                <button type="button" class="btn btn-primary" id="btnSearchEmployee" onclick="funcionarios()">Buscar Funcionário</button>
            </div>
            <hr class="mt-4 border border-primary border -1">

            <!-- Nome do Funcionário -->
            <div class="col-md-6">
                <label for="inputNameEmployee" class="form-label">Nome</label>
                <input type="text" class="form-control" id="inputNameEmployee" spellcheck="false" required maxlength="50">
            </div>

            <!-- CPF do Funcionário -->
            <div class="col-md-6">
                <label for="inputCPFEmployee" class="form-label">CPF</label>
                <input type="text" class="form-control" id="inputCPFEmployee" spellcheck="false" required maxlength="15">
            </div>

            <!-- E-mail do Funcionário -->
            <div class="col-md-6">
                <label for="inputEmailEmployee" class="form-label">E-mail</label>
                <input type="email" class="form-control" id="inputEmailEmployee" spellcheck="false" required maxlength="50">
            </div>

            <!-- Telefone do Funcionário -->
            <div class="col-md-6">
                <label for="inputPhoneEmployee" class="form-label">Telefone</label>
                <input type="text" class="form-control" id="inputPhoneEmployee" spellcheck="false" required maxlength="15">
            </div>

            <!-- Cargo -->
            <div class="col-md-6">
                <label for="inputRoleEmployee" class="form-label">Cargo</label>
                <input type="text" class="form-control" id="inputRoleEmployee" spellcheck="false" required maxlength="30">
            </div>

            <!-- Horário de Expediente -->
            <div class="col-md-6">
                <label for="inputWorkHoursEmployee" class="form-label">Horário de Expediente</label>
                <input type="text" class="form-control" id="inputWorkHoursEmployee" spellcheck="false" required maxlength="20">
            </div>

            <!-- Salário -->
            <div class="col-md-6">
                <label for="inputSalaryEmployee" class="form-label">Salário</label>
                <input type="number" class="form-control" id="inputSalaryEmployee" required>
            </div>

            <!-- Botões -->
            <div class="mt-5">
                <button type="submit" class="btn btn-success" id="btnCreateEmployee" onclick="createEmployee()">Adicionar Funcionário</button>
                <button type="button" class="btn btn-warning" id="btnUpdateEmployee" onclick="updateEmployee()">Editar Funcionário</button>
                <button type="button" class="btn btn-danger" id="btnDeleteEmployee" onclick="deleteEmployee()">Excluir Funcionário</button>
                <button type="reset" class="btn btn-secondary" id="btnResetEmployee" onclick="resetForm()">Limpar</button>
            </div>
        </form>
    </div>

    <!-- Bootstrap -->
    <script src="../public/js/bootstrap.min.js"></script>

    <script>
        // Funções para Criar, Editar e Excluir Funcionário

        // Função de busca de funcionário
        function searchEmployee() {
            const searchTerm = document.getElementById('searchEmployee').value;
            // Aqui você pode integrar a busca de funcionários (com banco de dados ou API)
            // Exemplo de retorno:
            document.getElementById('inputNameEmployee').value = searchTerm;  // Simulação
        }

        // Função de criar funcionário
        function createEmployee(event) {
            event.preventDefault(); // Para evitar o envio do formulário sem a ação desejada
            
            const name = document.getElementById('inputNameEmployee').value;
            const cpf = document.getElementById('inputCPFEmployee').value;
            const email = document.getElementById('inputEmailEmployee').value;
            const phone = document.getElementById('inputPhoneEmployee').value;
            const role = document.getElementById('inputRoleEmployee').value;
            const workHours = document.getElementById('inputWorkHoursEmployee').value;
            const salary = document.getElementById('inputSalaryEmployee').value;

            // Aqui você pode integrar a lógica de salvar o funcionário no banco de dados
            console.log('Funcionário Criado:', {
                name, cpf, email, phone, role, workHours, salary
            });

            alert('Funcionário criado com sucesso!');
        }

        // Função de editar funcionário
        function updateEmployee() {
            const name = document.getElementById('inputNameEmployee').value;
            const cpf = document.getElementById('inputCPFEmployee').value;
            const email = document.getElementById('inputEmailEmployee').value;
            const phone = document.getElementById('inputPhoneEmployee').value;
            const role = document.getElementById('inputRoleEmployee').value;
            const workHours = document.getElementById('inputWorkHoursEmployee').value;
            const salary = document.getElementById('inputSalaryEmployee').value;

            // Aqui você pode integrar a lógica de atualizar os dados do funcionário no banco de dados
            console.log('Funcionário Atualizado:', {
                name, cpf, email, phone, role, workHours, salary
            });

            alert('Funcionário atualizado com sucesso!');
        }

        // Função de excluir funcionário
        function deleteEmployee() {
            const name = document.getElementById('inputNameEmployee').value;
            const cpf = document.getElementById('inputCPFEmployee').value;

            // Aqui você pode integrar a lógica de excluir o funcionário no banco de dados
            console.log('Funcionário Excluído:', { name, cpf });

            alert('Funcionário excluído com sucesso!');
        }

        // Função de resetar o formulário
        function resetForm() {
            document.getElementById('frmEmployee').reset();
        }
    </script>
</body>
</html>
